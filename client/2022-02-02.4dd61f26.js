import{S as e,i as t,s,e as n,t as r,a as l,b as a,f as o,g as i,c,d as f,k as u,h,j as d,l as p,n as m,m as g,o as v,p as w,r as $,u as y,v as b,w as j,q as E,x,y as k,z as G,A,B as C,C as I,D as R}from"./client.68fecc9e.js";function N(e,t,s){const n=e.slice();return n[5]=t[s],n}function z(e){let t,s,m,g,v=(e[0][e[5]]?e[0][e[5]].toUpperCase():" ")+"";return{c(){t=n("div"),s=r(v),m=l(),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=o(t);s=i(n,v),m=c(n),n.forEach(f),this.h()},h(){u(t,"class",g="box "+e[2](e[5])+" svelte-1wuepzb")},m(e,n){h(e,t,n),d(t,s),d(t,m)},p(e,n){3&n&&v!==(v=(e[0][e[5]]?e[0][e[5]].toUpperCase():" ")+"")&&p(s,v),2&n&&g!==(g="box "+e[2](e[5])+" svelte-1wuepzb")&&u(t,"class",g)},d(e){e&&f(t)}}}function B(e){let t,s=[...Array(e[1]).keys()],r=[];for(let t=0;t<s.length;t+=1)r[t]=z(N(e,s,t));return{c(){t=n("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=a(e,"DIV",{class:!0});var s=o(t);for(let e=0;e<r.length;e+=1)r[e].l(s);s.forEach(f),this.h()},h(){u(t,"class","entry svelte-1wuepzb")},m(e,s){h(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,[n]){if(7&n){let l;for(s=[...Array(e[1]).keys()],l=0;l<s.length;l+=1){const a=N(e,s,l);r[l]?r[l].p(a,n):(r[l]=z(a),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=s.length}},i:m,o:m,d(e){e&&f(t),g(r,e)}}}function O(e,t,s){let{solution:n}=t,{word:r}=t,{length:l}=t;return e.$set=e=>{"solution"in e&&s(3,n=e.solution),"word"in e&&s(0,r=e.word),"length"in e&&s(1,l=e.length)},[r,l,function(e){return""==n?"guess":n[e]==r[e]?"green":function(e){let t=n.split(""),s=r.split(""),l=t.map((t,n)=>t==s[n]&&t==s[e]),a=t.filter((e,t)=>!l[t]),o=s.map((e,t)=>[e,t]).filter(([t,n])=>!l[n]&&t==s[e]).map(([e,t])=>t).indexOf(e),i=a.reduce((t,n)=>t+(n==s[e]),0);return o>-1&&o<i}(e)?"yellow":"grey"},n]}class T extends e{constructor(e){super(),t(this,e,O,B,s,{solution:3,word:0,length:1})}}function V(e,t,s){const n=e.slice();return n[6]=t[s],n}function D(e){let t,s;const r=new T({props:{length:q,word:e[6],solution:S}});return{c(){v(r.$$.fragment),t=n("br")},l(e){w(r.$$.fragment,e),t=a(e,"BR",{})},m(e,n){$(r,e,n),h(e,t,n),s=!0},p(e,t){const s={};1&t&&(s.word=e[6]),r.$set(s)},i(e){s||(y(r.$$.fragment,e),s=!0)},o(e){b(r.$$.fragment,e),s=!1},d(e){j(r,e),e&&f(t)}}}function F(e){let t,s,p,g,v,w,$,y,b,j,E,x,k;return{c(){t=n("footer"),s=n("a"),p=r("Fanfare sound effect"),g=r(" by "),v=n("a"),w=r("Alexander"),$=l(),y=n("footer"),b=n("a"),j=r("Confetti effect"),E=r(" by "),x=n("a"),k=r("Vladimir Nikitin"),this.h()},l(e){t=a(e,"FOOTER",{});var n=o(t);s=a(n,"A",{href:!0,class:!0});var r=o(s);p=i(r,"Fanfare sound effect"),r.forEach(f),g=i(n," by "),v=a(n,"A",{href:!0,class:!0});var l=o(v);w=i(l,"Alexander"),l.forEach(f),n.forEach(f),$=c(e),y=a(e,"FOOTER",{});var u=o(y);b=a(u,"A",{href:!0,class:!0});var h=o(b);j=i(h,"Confetti effect"),h.forEach(f),E=i(u," by "),x=a(u,"A",{href:!0,class:!0});var d=o(x);k=i(d,"Vladimir Nikitin"),d.forEach(f),u.forEach(f),this.h()},h(){u(s,"href","https://orangefreesounds.com/ta-da-orchestra-fanfare/"),u(s,"class","svelte-s4rwje"),u(v,"href","https://orangefreesounds.com/"),u(v,"class","svelte-s4rwje"),u(b,"href","https://www.npmjs.com/package/js-confetti"),u(b,"class","svelte-s4rwje"),u(x,"href","https://github.com/loonywizard"),u(x,"class","svelte-s4rwje")},m(e,n){h(e,t,n),d(t,s),d(s,p),d(t,g),d(t,v),d(v,w),h(e,$,n),h(e,y,n),d(y,b),d(b,j),d(y,E),d(y,x),d(x,k)},p:m,i:m,o:m,d(e){e&&f(t),e&&f($),e&&f(y)}}}function U(e){let t;const s=new T({props:{length:q,word:e[1],solution:""}});return{c(){v(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){$(s,e,n),t=!0},p(e,t){const n={};2&t&&(n.word=e[1]),s.$set(n)},i(e){t||(y(s.$$.fragment,e),t=!0)},o(e){b(s.$$.fragment,e),t=!1},d(e){j(s,e)}}}function P(e){let t,s,r,i,p,m,v,w,$,j=e[0],A=[];for(let t=0;t<j.length;t+=1)A[t]=D(V(e,j,t));const C=e=>b(A[e],1,1,()=>{A[e]=null}),I=[U,F],R=[];function N(e,t){return e[2]?1:0}return m=N(e),v=R[m]=I[m](e),{c(){t=n("script"),r=l(),i=n("div");for(let e=0;e<A.length;e+=1)A[e].c();p=l(),v.c(),this.h()},l(e){const s=E('[data-svelte="svelte-15lhg82"]',document.head);t=a(s,"SCRIPT",{src:!0}),o(t).forEach(f),s.forEach(f),r=c(e),i=a(e,"DIV",{class:!0});var n=o(i);for(let e=0;e<A.length;e+=1)A[e].l(n);p=c(n),v.l(n),n.forEach(f),this.h()},h(){t.src!==(s="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js")&&u(t,"src","https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"),u(i,"class","center svelte-s4rwje")},m(s,n,l){d(document.head,t),h(s,r,n),h(s,i,n);for(let e=0;e<A.length;e+=1)A[e].m(i,null);d(i,p),R[m].m(i,null),w=!0,l&&$(),$=x(window,"keydown",e[3])},p(e,[t]){if(1&t){let s;for(j=e[0],s=0;s<j.length;s+=1){const n=V(e,j,s);A[s]?(A[s].p(n,t),y(A[s],1)):(A[s]=D(n),A[s].c(),y(A[s],1),A[s].m(i,p))}for(k(),s=j.length;s<A.length;s+=1)C(s);G()}let s=m;m=N(e),m===s?R[m].p(e,t):(k(),b(R[s],1,1,()=>{R[s]=null}),G(),v=R[m],v||(v=R[m]=I[m](e),v.c()),y(v,1),v.m(i,null))},i(e){if(!w){for(let e=0;e<j.length;e+=1)y(A[e]);y(v),w=!0}},o(e){A=A.filter(Boolean);for(let e=0;e<A.length;e+=1)b(A[e]);b(v),w=!1},d(e){f(t),e&&f(r),e&&f(i),g(A,e),R[m].d(),$()}}}const q=5,S="couch";function L(e,t,s){let n,{validGuesses:r}=t,l=[],a="",o=!1;return A(()=>{n=new Audio("tada.mp3")}),e.$set=e=>{"validGuesses"in e&&s(4,r=e.validGuesses)},[l,a,o,function(e){if(e.key){if("Backspace"===e.key&&s(1,a=a.slice(0,a.length-1)),"Enter"===e.key&&a.length===q){if(!r.includes(a))return void alert("❌ Invalid guess!");if(s(0,l=[...l,a]),a==S){s(2,o=!0),n.play(),(new JSConfetti).addConfetti({confettiRadius:6,confettiNumber:500})}s(1,a="")}e.which<65||e.which>90||a.length>=q||s(1,a+=e.key.toLowerCase())}},r]}class J extends e{constructor(e){super(),t(this,e,L,P,s,{validGuesses:4})}}function M(e){let t,s,r,i,p,g,v,w,$;return{c(){t=n("form"),s=n("input"),r=n("br"),i=l(),p=n("input"),g=n("br"),v=l(),w=n("input"),this.h()},l(e){t=a(e,"FORM",{});var n=o(t);s=a(n,"INPUT",{type:!0,placeholder:!0}),r=a(n,"BR",{}),i=c(n),p=a(n,"INPUT",{type:!0,placeholder:!0}),g=a(n,"BR",{}),v=c(n),w=a(n,"INPUT",{type:!0,value:!0}),n.forEach(f),this.h()},h(){u(s,"type","text"),u(s,"placeholder","username"),u(p,"type","password"),u(p,"placeholder","password"),u(w,"type","submit"),w.value="Log in"},m(n,l,a){h(n,t,l),d(t,s),I(s,e[2]),d(t,r),d(t,i),d(t,p),I(p,e[3]),d(t,g),d(t,v),d(t,w),a&&R($),$=[x(s,"input",e[7]),x(p,"input",e[8]),x(w,"click",e[4])]},p(e,t){4&t&&s.value!==e[2]&&I(s,e[2]),8&t&&p.value!==e[3]&&I(p,e[3])},i:m,o:m,d(e){e&&f(t),R($)}}}function X(e){let t;const s=new J({props:{validGuesses:e[0]}});return{c(){v(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){$(s,e,n),t=!0},p(e,t){const n={};1&t&&(n.validGuesses=e[0]),s.$set(n)},i(e){t||(y(s.$$.fragment,e),t=!0)},o(e){b(s.$$.fragment,e),t=!1},d(e){j(s,e)}}}function H(e){let t,s,n,r,a;const o=[X,M],i=[];function u(e,t){return e[1]?0:1}return s=u(e),n=i[s]=o[s](e),{c(){t=l(),n.c(),r=C(),this.h()},l(e){E('[data-svelte="svelte-1i66gq1"]',document.head).forEach(f),t=c(e),n.l(e),r=C(),this.h()},h(){document.title="Xavier Ripoll — 2022-02-02"},m(e,n){h(e,t,n),i[s].m(e,n),h(e,r,n),a=!0},p(e,[t]){let l=s;s=u(e),s===l?i[s].p(e,t):(k(),b(i[l],1,1,()=>{i[l]=null}),G(),n=i[s],n||(n=i[s]=o[s](e),n.c()),y(n,1),n.m(r.parentNode,r))},i(e){a||(y(n),a=!0)},o(e){b(n),a=!1},d(e){e&&f(t),i[s].d(e),e&&f(r)}}}async function K({params:e,query:t}){const s=await this.fetch("wordle-allowed-guesses.txt");if(200===s.status){return{validGuesses:await s.text()}}this.error(s.status,data.message)}function Q(e,t,s){let{validGuesses:n}=t,r=!1,l="",a="";const o=["atozbarcelona"],i=["我爱你","我愛你"];return e.$set=e=>{"validGuesses"in e&&s(0,n=e.validGuesses)},[n,r,l,a,function(e){e.preventDefault(),o.includes(l)&&i.includes(a)?(alert("✅ Valid credentials!"),s(1,r=!0)):alert("❌ Invalid credentials!")},o,i,function(){l=this.value,s(2,l)},function(){a=this.value,s(3,a)}]}export default class extends e{constructor(e){super(),t(this,e,Q,H,s,{validGuesses:0})}}export{K as preload};
